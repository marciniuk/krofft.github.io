function lerp(e,t,n){return e+(t-e)*n}function clamp(e,t,n){return Math.min(Math.max(e,t),n)}window.DevInfo={name:"Adrian Marciniuk",website:"https://marcini.uk",mail:"adrian@marcini.uk",sayHello(){console.log("%c Developed by %cAdrian Marciniuk%c\n https://marcini.uk\n adrian@marcini.uk","color: #999; font-size: 13px;","color: #007acc; font-weight: bold; font-size: 13px;","color: #999; font-size: 13px;")}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>DevInfo.sayHello())):DevInfo.sayHello();const navbar=document.getElementById("navbar"),logo=document.getElementById("logo"),phoneBtn=document.getElementById("phoneBtn"),phoneIcon=phoneBtn?.querySelector(".phone-icon"),langBtn=document.getElementById("langBtn");let lastScrollY=0,tickingNavbar=!1;function handleNavbarScroll(){lastScrollY=window.scrollY,tickingNavbar||(tickingNavbar=!0,requestAnimationFrame((()=>{updateNavbar(),tickingNavbar=!1})))}function updateNavbar(){const e=window.innerWidth,t=window.innerHeight,n=clamp(lastScrollY/(t/2),0,1);if(e<1024)return navbar.style.backgroundColor="#bfdbfe",navbar.style.color="#1e3a8a",logo.style.filter="none",[phoneBtn,langBtn].forEach((e=>{e&&(e.style.transition="background-color 0.25s ease, border-color 0.25s ease, color 0.25s ease",e.style.color="#1e3a8a",e.style.borderColor="#1e3a8a",e.style.backgroundColor="transparent")})),void(phoneIcon&&(phoneIcon.style.backgroundColor="#1e3a8a",phoneIcon.querySelector("i").style.setProperty("color","#cde3fe","important")));const o=[lerp(122,191,n),lerp(81,219,n),lerp(61,254,n),lerp(.2,1,n)];navbar.style.backgroundColor=`rgba(${Math.round(o[0])},${Math.round(o[1])},${Math.round(o[2])},${o[3].toFixed(2)})`;const a=[lerp(255,30,n),lerp(255,58,n),lerp(255,138,n)],s=`rgb(${Math.round(a[0])},${Math.round(a[1])},${Math.round(a[2])})`;if(navbar.style.color=s,logo.style.filter=`brightness(${lerp(5,1,n)}) contrast(${lerp(2,1,n)})`,[phoneBtn,langBtn].forEach((e=>{e&&(e.style.transition="background-color 0.25s ease, border-color 0.25s ease, color 0.25s ease",e.style.color=s,e.style.borderColor=s)})),phoneIcon){phoneIcon.style.backgroundColor=s;const e=[44,46,131],t=[205,227,254],o=[lerp(e[0],t[0],n),lerp(e[1],t[1],n),lerp(e[2],t[2],n)];phoneIcon.querySelector("i").style.color=`rgb(${Math.round(o[0])},${Math.round(o[1])},${Math.round(o[2])})`}}window.addEventListener("scroll",handleNavbarScroll,{passive:!0}),window.addEventListener("resize",handleNavbarScroll),handleNavbarScroll();const menuBtn=document.querySelector("#menu-btn"),navRight=document.querySelector("#nav-right");if(menuBtn&&navRight){let e=!navRight.classList.contains("nav-hidden"),t=!1;const n=()=>{e||(e=!0,navRight.classList.remove("nav-hidden","nav-up"),navRight.classList.add("nav-down"),menuBtn.classList.add("open"),menuBtn.setAttribute("aria-expanded","true"))},o=()=>{e&&(e=!1,navRight.classList.add("nav-up"),navRight.classList.remove("nav-down"),setTimeout((()=>{e||navRight.classList.add("nav-hidden")}),220),menuBtn.classList.remove("open"),menuBtn.setAttribute("aria-expanded","false"))},a=a=>{t||(a?.stopPropagation?.(),t=!0,setTimeout((()=>t=!1),250),e?o():n())};menuBtn.addEventListener("click",a),menuBtn.addEventListener("pointerdown",(e=>e.stopPropagation())),document.addEventListener("pointerdown",(t=>{e&&(navRight.contains(t.target)||menuBtn.contains(t.target)||o())}),{passive:!0}),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e&&o()})),navRight.setAttribute("aria-hidden",e?"false":"true"),new MutationObserver((()=>{navRight.setAttribute("aria-hidden",e?"false":"true")})).observe(navRight,{attributes:!0,attributeFilter:["class"]})}function initGalleryObserver(){const e=document.getElementById("gallery");let t=!1;if(!e)return console.warn("锔 Nie znaleziono sekcji #gallery");const n=new IntersectionObserver((o=>{o.forEach((o=>{if(o.isIntersecting&&!t){t=!0,n.unobserve(e);const o=()=>{initMainGallery(),document.querySelectorAll("#slider-main img").forEach((e=>{const t=e.dataset.src;if(t){const n=new Image;n.src=t,n.srcset=e.dataset.srcset,n.sizes=e.dataset.sizes,n.onload=()=>{e.src=t,e.srcset=e.dataset.srcset,e.sizes=e.dataset.sizes,e.classList.add("opacity-100")}}}))};"requestIdleCallback"in window?requestIdleCallback(o):setTimeout(o,200)}}))}),{threshold:.1});n.observe(e)}function initMainGallery(){const e=document.getElementById("slider-main");if(!e)return console.warn("锔 Nie znaleziono #slider-main");e.innerHTML="";for(let t=1;t<=11;t++)e.appendChild(createSliderItem(t));for(let t=1;t<=11;t++){const n=createSliderItem(t);n.classList.add("clone"),e.appendChild(n)}initSliderScroll(e)}function createSliderItem(e){const t=document.createElement("div");t.className="img-wrapper";const n=document.createElement("img");n.src="/assets/img/placeholder.png",n.dataset.src=`/assets/img/gallery/${e}-800.jpg`,n.dataset.srcset=`/assets/img/gallery/${e}-400.jpg 400w, /assets/img/gallery/${e}-800.jpg 800w, /assets/img/gallery/${e}.jpg 1200w`,n.dataset.sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 1200px",n.alt=`Galeria ${e}`,n.loading="lazy",n.className="w-full object-cover transition-opacity duration-500 opacity-0";const o=document.createElement("button"),a=window.location.pathname.startsWith("/en/");return o.textContent=a?"View more":"Zobacz wicej",o.addEventListener("click",(t=>{t.stopPropagation(),openGalleryModal(e)})),t.appendChild(n),t.appendChild(o),t}function initSliderScroll(e){const t=e.parentElement;let n=!1,o=0,a=0,s=0;e.style.willChange="transform";const r=()=>{e.style.transform=`translateX(${-s}px)`},i=e=>{n=!0,o=e,a=s},l=e=>{if(!n)return;s=a-(e-o),r()},c=()=>{n=!1};t.addEventListener("mousedown",(e=>i(e.pageX))),t.addEventListener("mousemove",(e=>l(e.pageX))),t.addEventListener("mouseup",c),t.addEventListener("mouseleave",c),t.addEventListener("touchstart",(e=>i(e.touches[0].pageX))),t.addEventListener("touchmove",(e=>l(e.touches[0].pageX))),t.addEventListener("touchend",c),t.addEventListener("touchcancel",c);const d=e.scrollWidth/2,u=()=>{n||(s+=.5,s>=d&&(s-=d),r()),requestAnimationFrame(u)};requestAnimationFrame(u)}function initGalleryModal(){const e=document.getElementById("gallery-modal"),t=document.getElementById("modal-close");if(!e||!t)return;t.addEventListener("click",closeGalleryModal),e.addEventListener("click",(t=>{t.target===e&&closeGalleryModal()}));const n=e.querySelector(".modal-content");n?.addEventListener("click",(e=>e.stopPropagation()))}async function openGalleryModal(e){const t=document.getElementById("gallery-modal");if(!t)return;t.classList.add("active");const n=document.getElementById("modal-gallery");if(n){n.innerHTML='<p class="text-gray-500">Wczytywanie...</p>';try{const t=await fetch(`/assets/img/gallery/${e}/lista.json`);if(!t.ok)throw new Error("Bd adowania JSON");const o=await t.json();if(n.innerHTML="",o.video&&Array.isArray(o.video))o.video.forEach((t=>{const o=document.createElement("video");o.src=`/assets/img/gallery/${e}/${t}`,o.controls=!0,o.preload="none",o.autoplay=!1,o.muted=!0;const a=t.replace(/\.[^.]+$/,".jpg");o.poster=`/assets/img/gallery/${e}/${a}`,o.addEventListener("click",(e=>{e.stopPropagation(),toggleLightbox(o)})),n.appendChild(o)}));else if(o.video){const t=document.createElement("video");t.src=`/assets/img/gallery/${e}/${o.video}`,t.controls=!0,t.preload="none",t.autoplay=!1,t.muted=!0;const a=o.video.replace(/\.[^.]+$/,".jpg");t.poster=`/assets/img/gallery/${e}/${a}`,t.addEventListener("click",(e=>{e.stopPropagation(),toggleLightbox(t)})),n.appendChild(t)}o.images&&Array.isArray(o.images)&&o.images.forEach((t=>{const o=document.createElement("img");o.src=`/assets/img/gallery/${e}/${t}`,o.loading="lazy",o.addEventListener("click",(e=>{e.stopPropagation(),toggleLightbox(o)})),n.appendChild(o)})),o.images&&0!==o.images.length||o.video||(n.innerHTML='<p class="text-gray-500">Brak materia贸w do wywietlenia.</p>')}catch(e){console.error(e),n.innerHTML='<p class="text-red-600">Nie udao si wczyta zawartoci.</p>'}}}function closeGalleryModal(){const e=document.getElementById("gallery-modal");e&&(e.classList.remove("active"),document.querySelectorAll("#modal-gallery img, #modal-gallery video").forEach((e=>e.classList.remove("expanded"))),hideLightbox())}function toggleLightbox(e){let t=document.getElementById("lightbox-overlay");t||(t=document.createElement("div"),t.id="lightbox-overlay",document.body.appendChild(t)),t.innerHTML="";const n=e.cloneNode(!0);n.classList.add("visible"),t.appendChild(n),t.classList.add("active"),t.addEventListener("click",hideLightbox),"video"===n.tagName.toLowerCase()&&(n.controls=!0,n.muted=!1,setTimeout((()=>n.play()),200))}function hideLightbox(){const e=document.getElementById("lightbox-overlay");if(e){const t=e.querySelector("video");t&&(t.pause(),t.currentTime=0),e.classList.remove("active"),setTimeout((()=>{e.innerHTML=""}),300)}}function initOfertaModals(){document.querySelectorAll("[data-oferta]").forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&(e.classList.add("opacity-0","pointer-events-none"),e.querySelector("div")?.classList.replace("scale-100","scale-95"))}))})),document.querySelectorAll(".close-modal").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest("[data-oferta]");t&&(t.classList.add("opacity-0","pointer-events-none"),t.querySelector("div")?.classList.replace("scale-100","scale-95"))}))})),document.querySelectorAll("[data-modal]").forEach((e=>{e.addEventListener("click",(()=>{const t=document.getElementById(e.dataset.modal);t&&(t.classList.remove("opacity-0","pointer-events-none"),t.querySelector("div")?.classList.replace("scale-95","scale-100"))}))}))}function toggleSubmit(){const e=document.getElementById("submitBtn"),t=document.getElementById("rodo");e&&t&&(e.disabled=!t.checked)}async function handleSubmit(e){e.preventDefault();const t=document.getElementById("contactForm");if(t){if(""!==t.querySelector('input[name="honeypot"]').value)return alert("Wykryto bota "),!1;try{(await fetch(t.action,{method:"POST",body:new FormData(t)})).ok?(showPopup(),t.reset(),toggleSubmit()):alert("Ups! Co poszo nie tak. Spr贸buj ponownie p贸藕niej.")}catch(e){console.error(e),alert("Bd poczenia. Spr贸buj ponownie.")}}}function showPopup(){const e=document.getElementById("successPopup"),t=document.getElementById("popupBackdrop");e&&t&&(e.classList.remove("hidden","opacity-0","scale-90"),t.classList.remove("hidden","opacity-0"),setTimeout((()=>{e.classList.add("opacity-100","scale-100"),t.classList.add("opacity-100")}),10),setTimeout(closePopup,2e4))}function closePopup(){const e=document.getElementById("successPopup"),t=document.getElementById("popupBackdrop");e&&t&&(e.classList.add("opacity-0","scale-90"),t.classList.add("opacity-0"),setTimeout((()=>{e.classList.add("hidden"),t.classList.add("hidden")}),500))}function updateContactLayoutOptimized(){const e=document.querySelector(".contact-buttons");if(!e)return;const t=Array.from(e.querySelectorAll("a")),n=parseInt(getComputedStyle(e).gap)||0,o=t.map((e=>e.getBoundingClientRect().width)).reduce(((e,t)=>e+t),0),a=n*(t.length-1),s=e.getBoundingClientRect().width;requestAnimationFrame((()=>{const t=o+a>s;e.classList.toggle("flex-col",t),e.classList.toggle("flex-row",!t)}))}function updateSocialLayoutOptimized(){const e=document.getElementById("social-buttons");if(!e)return;const t=Array.from(e.querySelectorAll(".social-btn")),n=parseInt(getComputedStyle(e).gap)||0,o=t.map((e=>e.getBoundingClientRect().width)).reduce(((e,t)=>e+t),0),a=n*(t.length-1),s=e.getBoundingClientRect().width;requestAnimationFrame((()=>{const t=o+a>s;e.classList.toggle("flex-col",t),e.classList.toggle("flex-row",!t)}))}let resizeTimeout;function handleResizeOptimized(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout((()=>{updateContactLayoutOptimized(),updateSocialLayoutOptimized()}),100)}function toggleAccordion(e){const t=e.nextElementSibling,n=e.querySelector("svg");window.innerWidth>=1024||(document.querySelectorAll(".accordion-content").forEach((e=>{e!==t&&closeAccordion(e)})),document.querySelectorAll(".accordion-content + svg, button svg").forEach((e=>{e!==n&&e.classList.remove("rotate-180")}))),t.classList.contains("open")?(closeAccordion(t),n.classList.remove("rotate-180")):(openAccordion(t),n.classList.add("rotate-180"))}function openAccordion(e){e.classList.add("open"),e.style.maxHeight=e.scrollHeight+"px",e.style.opacity="1"}function closeAccordion(e){e.classList.remove("open"),e.style.maxHeight="0",e.style.opacity="0"}document.getElementById("year").innerHTML=(new Date).getFullYear(),document.querySelectorAll(".nowrap-single").forEach((e=>{e.innerHTML=e.innerHTML.replace(/\b(a|i|o|z|w|u|e|na|do)\b\s+/g,"$1&nbsp;")})),document.addEventListener("DOMContentLoaded",(()=>{initGalleryObserver(),initGalleryModal(),initOfertaModals(),function(){const e=document.querySelectorAll(".lazy-img");if(!e.length)return;const t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=()=>{const n=e.target;n.src&&!n.src.includes("placeholder")||(n.src="/assets/img/placeholder.png");const o=new Image;o.src=n.dataset.src,o.srcset=n.dataset.srcset,o.sizes=n.dataset.sizes,o.onload=()=>{n.src=n.dataset.src,n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.dataset.sizes&&(n.sizes=n.dataset.sizes),n.classList.add("opacity-100"),t.unobserve(n)},o.onerror=()=>{console.warn(`锔 Nie udao si zaadowa: ${n.dataset.src}`),t.unobserve(n)}};"requestIdleCallback"in window?requestIdleCallback(n):setTimeout(n,150)}}))}),{threshold:.1});e.forEach((e=>{e.classList.add("transition-opacity","duration-500","opacity-0"),t.observe(e)}))}(),function(){const e=document.querySelectorAll(".counter");if(!e.length)return;const t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&((e=>{const t=+e.getAttribute("data-target"),n=e.getAttribute("data-suffix")||"",o=performance.now(),a=s=>{const r=Math.min((s-o)/2e3,1),i=Math.floor(r*t);e.textContent=i+n,r<1?requestAnimationFrame(a):e.textContent=t+n};requestAnimationFrame(a)})(e.target),t.unobserve(e.target))}))}),{threshold:.3});e.forEach((e=>t.observe(e)))}(),function(){const e=document.querySelectorAll(".animate-fadeInUp");if(!e.length)return;const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.style.animationPlayState="running")}))}),{threshold:.2});e.forEach((e=>{e.style.animationPlayState="paused",t.observe(e)}))}()})),window.addEventListener("resize",handleResizeOptimized),window.addEventListener("load",(()=>{updateContactLayoutOptimized(),updateSocialLayoutOptimized()})),window.addEventListener("resize",(()=>{document.querySelectorAll(".accordion-content.open").forEach((e=>{e.style.maxHeight=e.scrollHeight+"px"}))}));